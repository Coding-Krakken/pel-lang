# Code Generation Template
# For prompts that generate code

version: '1.0'
pass_threshold: 75

evaluation:
  syntax:
    weight: 25
    evaluator: 'regex'
    criteria:
      must_match:
        - '(function|class|def|const|let|var)'  # Has code structure
      must_not_match:
        - '```\s*$'  # Empty code blocks
      threshold: 90
  
  structure:
    weight: 20
    evaluator: 'checklist'
    criteria:
      required_elements:
        - 'function'
        - 'return'
      optional_elements:
        - 'comment'
        - 'documentation'
        - 'error handling'
      threshold: 80
  
  completeness:
    weight: 25
    evaluator: 'llm_judge'
    criteria:
      rubric: 'Does the code implement all required functionality? Is it complete and ready to use?'
      aspects: ['functionality', 'completeness', 'error_handling']
      threshold: 75
  
  quality:
    weight: 30
    evaluator: 'llm_judge'
    criteria:
      rubric: 'Evaluate code quality: readability, best practices, efficiency, and maintainability.'
      aspects: ['readability', 'best_practices', 'efficiency']
      threshold: 70

test_cases:
  - id: 'simple_function'
    name: 'Simple Function'
    description: 'Generate a simple function'
    input: 'Create a function that adds two numbers'
  
  - id: 'edge_cases'
    name: 'Edge Cases'
    description: 'Handle edge cases properly'
    input: 'Create a function that validates email addresses with proper error handling'
